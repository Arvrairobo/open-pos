<!--
  Generated template for the SummaryHomePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar color="dark">
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title> {{"Business"|translate}} </ion-title>
    </ion-navbar>
  </ion-header>

  <ion-content>

    <ion-item>
        <span style="vertical-align: middle; display: inline-block; color: black; font-size: 1.5rem;" item-start>
          {{"Summarize"|translate}}:
          </span>
           <ion-toggle  color="dark" style="vertical-align: middle; display: inline-block" item-end [(ngModel)]="expanded"></ion-toggle>
        
      </ion-item>
      <ion-item>
          {{"Total sales today"|translate}}: {{tstoday}}
          
        </ion-item>
        <ion-item>
            {{"Total sales for this month"|translate}}: {{tsmonth}}
        </ion-item>
        <ion-item>
            {{"Total sales for last 30 days"|translate}} : {{ts30}}
        </ion-item>
        

      <ion-list inset  *ngFor="let transac of listtransacrev">
        
          <ion-card>
              <ion-grid line>
                  <ion-row style="padding-left: 10px; padding-bottom: 5px; ">
                    <ion-col col-10 style="color: grey; font-size: 10px;"> {{getDateTime(transac.datetime)}} </ion-col>
                    <ion-col col-2 style="text-align: center "><ion-icon name="cash" style="color: green"></ion-icon> </ion-col>
                  </ion-row>

                  <ion-list *ngFor="let item of transac.itemslist" [hidden]="expanded">
                      
                      <ion-row  style="padding: 0px;text-align: center ;  background-color: indigo; color: palevioletred;">
                          <ion-col col-8>
                            {{item.name}}
                          </ion-col>
                          <ion-col col-2 >
                              {{item.price}}
                          </ion-col>
                          <ion-col col-2>
                              {{item.qty}}
                          </ion-col>
                        </ion-row>
                      
              </ion-list> 
              
              <ion-row style="padding-left: 10px; padding-bottom: 10px;" >
                  <ion-col col-10><h2><b>{{"Grand Total:"|translate}} {{transac.totaldisc}}</b></h2></ion-col>
                </ion-row>
                  <ion-row *ngIf="transac.totaldisc!=transac.totalsum" style="padding: 0px;text-align: center ; " [hidden]="expanded">
                      <ion-col col-8>
                         {{"Discounted total:"|translate}} ({{transac.discount}}%)
                        </ion-col>
                        <ion-col col-4 >
                            {{transac.totaldisc}}
                        </ion-col>
                  </ion-row>
                  <ion-row *ngIf="transac.totalsum!=transac.totalatax" style="padding: 0px; text-align: center ;" [hidden]="expanded">
                      <ion-col col-8>
                          {{"Total after tax:"|translate}} ({{transac.taxrate}}%)
                        </ion-col>
                        <ion-col col-4 >
                            {{transac.totalatax}}
                        </ion-col>
                  </ion-row>
                
              </ion-grid>
              <button ion-button (click)="delTransac(transac)">Delete Transaction</button>
            </ion-card>   
        </ion-list>
      
    
      
    
    
    
    
    </ion-content>


